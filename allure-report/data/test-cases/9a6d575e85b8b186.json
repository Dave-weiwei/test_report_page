{"uid":"9a6d575e85b8b186","name":"test_step03_check_presence_of_true_positive_appmanager_logs","fullName":"tests.app_manager.test_REF_22989#test_step03_check_presence_of_true_positive_appmanager_logs","historyId":"de4d02306db1757e2fffa46de5bf9108","time":{"start":1770792740542,"stop":1770792740547,"duration":5},"status":"failed","statusMessage":"AssertionError","statusTrace":"@pytest.mark.dependency(depends=[\"change_value_108\"], name=\"logdog_VC_VEH_LINE\")\n    def test_step03_check_presence_of_true_positive_appmanager_logs():\n    \n        try:\n>           logdog_tool.logdog_decrypt_search(\n                TEST_CASE_ID,\n                feature=\"APP_MANAGER\",\n                location=\"__DECRYPT_ONLY__\", #用來卡解密一次後續移除的問題\n                regex= False\n            )\n\ntests\\app_manager\\test_REF_22989.py:88: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nmodule\\logdog_tool.py:6: in logdog_decrypt_search\n    LogDecrypter.main(Case_ID)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nid = 'REF_22989'\n\n    def main(id):\n        ap = argparse.ArgumentParser(\n            description=\"Decrypt Logdog .enc using paired _enckey.enc and RSA private keys, then extract tar.gz\"\n        )\n        # ap.add_argument(\n        # \"--id\",\n        # help=\"Top-level folder name for extracted logs (e.g. test case ID)\")\n        # ap.add_argument(\"--outdir\",\n        #                 help=\"Output directory (supports relative path, e.g. ../viewer/LOG)\")\n        # ap.add_argument(\"--save-archive\", action=\"store_true\",\n        #                 help=\"Also save decrypted tar.gz as decrypted.tar.gz\")\n        # args = ap.parse_args()\n    \n        # --- resolve paths ---\n        BASE_DIR = Path(__file__).resolve().parent\n        PRE_DIR = Path(__file__).resolve().parents[1]\n        LOGDOG_DIR = BASE_DIR / \"logdog\"\n    \n        enc_files = list(LOGDOG_DIR.glob(\"*.enc\"))\n        key_files = list(LOGDOG_DIR.glob(\"*_enckey.enc\"))\n    \n        # 排除 *_enckey.enc 被算進 enc_files\n        enc_files = [p for p in enc_files if not p.name.lower().endswith(\"_enckey.enc\")]\n    \n        if len(enc_files) != 1 or len(key_files) != 1:\n            print(\"[ERROR] Current directory must contain exactly ONE pair of:\")\n            print(\"        - *.enc\")\n            print(\"        - *_enckey.enc\")\n            print(f\"        Found enc: {len(enc_files)}, enckey: {len(key_files)}\")\n>           sys.exit(1)\nE           SystemExit: 1\n\nlogdog\\decrypt\\LogDecrypter.py:84: SystemExit\n\nThe above exception was the direct cause of the following exception:\n\n    @pytest.mark.dependency(depends=[\"change_value_108\"], name=\"logdog_VC_VEH_LINE\")\n    def test_step03_check_presence_of_true_positive_appmanager_logs():\n    \n        try:\n            logdog_tool.logdog_decrypt_search(\n                TEST_CASE_ID,\n                feature=\"APP_MANAGER\",\n                location=\"__DECRYPT_ONLY__\", #用來卡解密一次後續移除的問題\n                regex= False\n            )\n        except SystemExit as e:\n>           raise AssertionError(\n            ) from e\nE           AssertionError\n\ntests\\app_manager\\test_REF_22989.py:95: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"cantool_runtime_and_shutdown","time":{"start":1770789482187,"stop":1770789482187,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"stepsCount":0,"attachmentStep":false,"attachmentsCount":0,"shouldDisplayMessage":false}],"afterStages":[{"name":"cantool_runtime_and_shutdown::0","time":{"start":1770794423070,"stop":1770794423071,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"stepsCount":0,"attachmentStep":false,"attachmentsCount":0,"shouldDisplayMessage":false}],"labels":[{"name":"parentSuite","value":"tests.app_manager"},{"name":"suite","value":"test_REF_22989"},{"name":"host","value":"DaveWSChen"},{"name":"thread","value":"5600-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.app_manager.test_REF_22989"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[]}],"tags":[]},"source":"9a6d575e85b8b186.json","parameterValues":[]}