{"uid":"b3427c704f8c4ab5","name":"test_step01_check_config","fullName":"tests.app_manager.test_REF_30179#test_step01_check_config","historyId":"094068d9b3d89fdbbd7d4ef84421fdee","time":{"start":1770794417419,"stop":1770794417419,"duration":0},"status":"broken","statusMessage":"module.adb_tool.ADBCommandError: ADB Command Failed!\nCommand: ['adb', 'root']\nReturn Code: 1\nError (stderr): adb: unable to connect for root: no devices/emulators found","statusTrace":"@pytest.fixture(scope=\"module\")\n    def adb() -> ADBTool:\n        tool = ADBTool()\n>       tool.root()\n\ntests\\app_manager\\test_REF_30179.py:24: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nmodule\\adb_tool.py:249: in root\n    return self.run(\"root\")\n           ^^^^^^^^^^^^^^^^\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <module.adb_tool.ADBTool object at 0x00000136F03415B0>, cmd_args = 'root', check = True\n\n    def run(self, cmd_args: str | List[str], check: bool = True) -> str:\n        \"\"\"\n        核心執行函式\n        Args:\n            check: 若 True，當 returncode != 0 時拋出異常\n        \"\"\"\n        base = self._get_base_cmd()\n    \n        # 處理參數\n        if isinstance(cmd_args, str):\n            full_cmd = base + shlex.split(cmd_args)\n        else:\n            full_cmd = base + cmd_args\n    \n        result = subprocess.run(\n            full_cmd,\n            capture_output=True,\n            text=True,\n            encoding='utf-8',\n            errors='replace'\n        )\n    \n        # 用check 參數\n        if check and result.returncode != 0:\n            error_msg = (\n                f\"ADB Command Failed!\\n\"\n                f\"Command: {full_cmd}\\n\"\n                f\"Return Code: {result.returncode}\\n\"\n                f\"Error (stderr): {result.stderr.strip()}\"\n            )\n>           raise ADBCommandError(error_msg)\nE           module.adb_tool.ADBCommandError: ADB Command Failed!\nE           Command: ['adb', 'root']\nE           Return Code: 1\nE           Error (stderr): adb: unable to connect for root: no devices/emulators found\n\nmodule\\adb_tool.py:59: ADBCommandError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"adb","time":{"start":1770789482187,"stop":1770789482258,"duration":71},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"stepsCount":0,"attachmentStep":false,"attachmentsCount":0,"shouldDisplayMessage":false},{"name":"cantool_runtime_and_shutdown","time":{"start":1770789482187,"stop":1770789482187,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"stepsCount":0,"attachmentStep":false,"attachmentsCount":0,"shouldDisplayMessage":false},{"name":"adb","time":{"start":1770794417419,"stop":1770794417487,"duration":68},"status":"broken","statusMessage":"module.adb_tool.ADBCommandError: ADB Command Failed!\nCommand: ['adb', 'root']\nReturn Code: 1\nError (stderr): adb: unable to connect for root: no devices/emulators found\n","statusTrace":"  File \"C:\\Users\\DaveWSChen\\AppData\\Local\\Programs\\Python\\Python314\\Lib\\site-packages\\pluggy\\_callers.py\", line 38, in run_old_style_hookwrapper\n    res = yield\n          ^^^^^\n  File \"C:\\Users\\DaveWSChen\\AppData\\Local\\Programs\\Python\\Python314\\Lib\\site-packages\\pluggy\\_callers.py\", line 139, in _multicall\n    teardown.throw(exception)\n    ~~~~~~~~~~~~~~^^^^^^^^^^^\n  File \"C:\\Users\\DaveWSChen\\AppData\\Local\\Programs\\Python\\Python314\\Lib\\site-packages\\_pytest\\setuponly.py\", line 36, in pytest_fixture_setup\n    return (yield)\n            ^^^^^\n  File \"C:\\Users\\DaveWSChen\\AppData\\Local\\Programs\\Python\\Python314\\Lib\\site-packages\\pluggy\\_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n  File \"C:\\Users\\DaveWSChen\\AppData\\Local\\Programs\\Python\\Python314\\Lib\\site-packages\\_pytest\\fixtures.py\", line 1196, in pytest_fixture_setup\n    result = call_fixture_func(fixturefunc, request, kwargs)\n  File \"C:\\Users\\DaveWSChen\\AppData\\Local\\Programs\\Python\\Python314\\Lib\\site-packages\\_pytest\\fixtures.py\", line 930, in call_fixture_func\n    fixture_result = fixturefunc(**kwargs)\n  File \"D:\\MD_Project\\Automation\\tests\\app_manager\\test_REF_30179.py\", line 24, in adb\n    tool.root()\n    ~~~~~~~~~^^\n  File \"D:\\MD_Project\\Automation\\module\\adb_tool.py\", line 249, in root\n    return self.run(\"root\")\n           ~~~~~~~~^^^^^^^^\n  File \"D:\\MD_Project\\Automation\\module\\adb_tool.py\", line 59, in run\n    raise ADBCommandError(error_msg)\n","steps":[],"attachments":[],"parameters":[],"hasContent":true,"stepsCount":0,"attachmentStep":false,"attachmentsCount":0,"shouldDisplayMessage":true}],"afterStages":[{"name":"cantool_runtime_and_shutdown::0","time":{"start":1770794423070,"stop":1770794423071,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"stepsCount":0,"attachmentStep":false,"attachmentsCount":0,"shouldDisplayMessage":false}],"labels":[{"name":"parentSuite","value":"tests.app_manager"},{"name":"suite","value":"test_REF_30179"},{"name":"host","value":"DaveWSChen"},{"name":"thread","value":"5600-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.app_manager.test_REF_30179"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[]}],"tags":[]},"source":"b3427c704f8c4ab5.json","parameterValues":[]}