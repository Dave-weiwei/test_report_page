{"uid":"eab1f64bcfb4cdc3","name":"test_step01_check_saved_2nd_party_app_hash","fullName":"tests.app_manager.test_REF_30252#test_step01_check_saved_2nd_party_app_hash","historyId":"164f01e8c717a2b04aa313edfd54a813","time":{"start":1770794420168,"stop":1770794420234,"duration":66},"status":"broken","statusMessage":"module.adb_tool.ADBCommandError: ADB Command Failed!\nCommand: ['adb', 'root']\nReturn Code: 1\nError (stderr): adb: unable to connect for root: no devices/emulators found","statusTrace":"adb = <module.adb_tool.ADBTool object at 0x00000136F0383350>\n\n    @pytest.mark.dependency(name=\"saved_hash_checked\")\n    def test_step01_check_saved_2nd_party_app_hash(adb: ADBTool):\n>       cfg = read_applications_xml(adb)\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^\n\ntests\\app_manager\\test_REF_30252.py:193: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \ntests\\app_manager\\test_REF_30252.py:35: in read_applications_xml\n    adb.root()\nmodule\\adb_tool.py:249: in root\n    return self.run(\"root\")\n           ^^^^^^^^^^^^^^^^\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <module.adb_tool.ADBTool object at 0x00000136F0383350>, cmd_args = 'root', check = True\n\n    def run(self, cmd_args: str | List[str], check: bool = True) -> str:\n        \"\"\"\n        核心執行函式\n        Args:\n            check: 若 True，當 returncode != 0 時拋出異常\n        \"\"\"\n        base = self._get_base_cmd()\n    \n        # 處理參數\n        if isinstance(cmd_args, str):\n            full_cmd = base + shlex.split(cmd_args)\n        else:\n            full_cmd = base + cmd_args\n    \n        result = subprocess.run(\n            full_cmd,\n            capture_output=True,\n            text=True,\n            encoding='utf-8',\n            errors='replace'\n        )\n    \n        # 用check 參數\n        if check and result.returncode != 0:\n            error_msg = (\n                f\"ADB Command Failed!\\n\"\n                f\"Command: {full_cmd}\\n\"\n                f\"Return Code: {result.returncode}\\n\"\n                f\"Error (stderr): {result.stderr.strip()}\"\n            )\n>           raise ADBCommandError(error_msg)\nE           module.adb_tool.ADBCommandError: ADB Command Failed!\nE           Command: ['adb', 'root']\nE           Return Code: 1\nE           Error (stderr): adb: unable to connect for root: no devices/emulators found\n\nmodule\\adb_tool.py:59: ADBCommandError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"adb","time":{"start":1770789482187,"stop":1770789482258,"duration":71},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"stepsCount":0,"attachmentStep":false,"attachmentsCount":0,"shouldDisplayMessage":false},{"name":"cantool_runtime_and_shutdown","time":{"start":1770789482187,"stop":1770789482187,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"stepsCount":0,"attachmentStep":false,"attachmentsCount":0,"shouldDisplayMessage":false},{"name":"adb","time":{"start":1770794420167,"stop":1770794420167,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"stepsCount":0,"attachmentStep":false,"attachmentsCount":0,"shouldDisplayMessage":false}],"afterStages":[{"name":"cantool_runtime_and_shutdown::0","time":{"start":1770794423070,"stop":1770794423071,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"stepsCount":0,"attachmentStep":false,"attachmentsCount":0,"shouldDisplayMessage":false}],"labels":[{"name":"parentSuite","value":"tests.app_manager"},{"name":"suite","value":"test_REF_30252"},{"name":"host","value":"DaveWSChen"},{"name":"thread","value":"5600-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.app_manager.test_REF_30252"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[]}],"tags":[]},"source":"eab1f64bcfb4cdc3.json","parameterValues":[]}