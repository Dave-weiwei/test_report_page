{"uid":"738a3cd5558a5982","name":"test_step02_send_install_intent","fullName":"tests.app_manager.test_REF_20606#test_step02_send_install_intent","historyId":"f9b778d8dcdacf25ef52449a503f2735","time":{"start":1770791681380,"stop":1770791697828,"duration":16448},"status":"failed","statusMessage":"AssertionError: Timeout: logcat grep 'AppManagerTestAppCli' did not contain:\n\"result\":\"1\"\n--- last snippet ---\n01-01 05:27:06.770  2540  2540 I AppManagerTestAppCli: Request data: {\"method\":\"register_restore\",\"id\":6}\n01-01 05:27:06.776  2540  2540 I AppManagerTestAppCli: {\"result\":\"true\",\"id\":6}\n01-01 05:27:06.778  2540  2569 I AppManagerTestAppCli: {\"result\":\"0\",\"id\":6}","statusTrace":"adb = <module.adb_tool.ADBTool object at 0x00000136F02270E0>\n\n    @pytest.mark.dependency(depends=[\"logs_prepared\"], name=\"send_register_restore\")\n    def test_step02_send_install_intent(adb):\n    \n        sent_register_restore(adb)\n        time.sleep(5)\n    \n        print(\"sent_register_restore\")\n    \n>       logs_ok = wait_log_contains_tag(adb, TAG, RESULT_OK_KEY_1, timeout_s=10, poll_s=2)\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\ntests\\app_manager\\test_REF_20606.py:146: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nadb = <module.adb_tool.ADBTool object at 0x00000136F02270E0>, tag = 'AppManagerTestAppCli', needle = '\"result\":\"1\"', timeout_s = 10\npoll_s = 2\n\n    def wait_log_contains_tag(adb, tag: str, needle: str, timeout_s: int = 10, poll_s: int = 2):\n        deadline = time.time() + timeout_s\n        last = \"\"\n        while time.time() < deadline:\n            last = dump_logcat_grep_tag(adb, tag) or \"\"\n            if needle in last:\n                return last\n            time.sleep(poll_s)\n    \n>       raise AssertionError(\n            f\"Timeout: logcat grep '{tag}' did not contain:\\n{needle}\\n\"\n            f\"--- last snippet ---\\n{last[:3000]}\"\n        )\nE       AssertionError: Timeout: logcat grep 'AppManagerTestAppCli' did not contain:\nE       \"result\":\"1\"\nE       --- last snippet ---\nE       01-01 05:27:06.770  2540  2540 I AppManagerTestAppCli: Request data: {\"method\":\"register_restore\",\"id\":6}\nE       01-01 05:27:06.776  2540  2540 I AppManagerTestAppCli: {\"result\":\"true\",\"id\":6}\nE       01-01 05:27:06.778  2540  2569 I AppManagerTestAppCli: {\"result\":\"0\",\"id\":6}\n\ntests\\app_manager\\test_REF_20606.py:57: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"adb","time":{"start":1770789482187,"stop":1770789482258,"duration":71},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"stepsCount":0,"attachmentStep":false,"attachmentsCount":0,"shouldDisplayMessage":false},{"name":"cantool_runtime_and_shutdown","time":{"start":1770789482187,"stop":1770789482187,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"stepsCount":0,"attachmentStep":false,"attachmentsCount":0,"shouldDisplayMessage":false}],"afterStages":[{"name":"cantool_runtime_and_shutdown::0","time":{"start":1770794423070,"stop":1770794423071,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"stepsCount":0,"attachmentStep":false,"attachmentsCount":0,"shouldDisplayMessage":false}],"labels":[{"name":"parentSuite","value":"tests.app_manager"},{"name":"suite","value":"test_REF_20606"},{"name":"host","value":"DaveWSChen"},{"name":"thread","value":"5600-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.app_manager.test_REF_20606"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[]}],"tags":[]},"source":"738a3cd5558a5982.json","parameterValues":[]}