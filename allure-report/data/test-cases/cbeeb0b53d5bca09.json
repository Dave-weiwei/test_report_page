{"uid":"cbeeb0b53d5bca09","name":"test_require_accept","fullName":"tests.app_manager.test_REF_8008#test_require_accept","historyId":"e8042ff118c6a31a1d489be9f49698c8","time":{"start":1770790189707,"stop":1770790189867,"duration":160},"status":"failed","statusMessage":"AssertionError: Permissions not granted: {'android.permission.CALL_PRIVILEGED'}\nassert not {'android.permission.CALL_PRIVILEGED'}","statusTrace":"adb = <module.adb_tool.ADBTool object at 0x00000136F02270E0>\ncheck_apk_permissions_require = ['android.permission.BLUETOOTH', 'android.permission.BLUETOOTH_ADMIN', 'android.permission.CALL_PHONE', 'android.permi...'android.permission.READ_PHONE_STATE', 'com.fca.Uconnect.CommonApp.permission.FCA_PERMISSION_VEHCONFIG_READ_HIGH', ...]\n\n    @pytest.mark.dependency(depends=[\"check_permissions_require\"])\n    def test_require_accept(adb, check_apk_permissions_require):\n    \n        req_accept = adb.shell(f\"dumpsys package {PACKGE}\")\n        permissions_accept = set()\n        for req in check_apk_permissions_require:\n            rule = re.compile(rf'{re.escape(req)}:\\s*granted=true')\n    \n            if rule.search(req_accept):\n                permissions_accept.add(req)\n    \n        missing = set(check_apk_permissions_require) - permissions_accept\n    \n        print(\"Granted permissions:\", permissions_accept)\n        print(\"Missing permissions:\", missing)\n    \n>       assert not missing, f\"Permissions not granted: {missing}\"\nE       AssertionError: Permissions not granted: {'android.permission.CALL_PRIVILEGED'}\nE       assert not {'android.permission.CALL_PRIVILEGED'}\n\ntests\\app_manager\\test_REF_8008.py:67: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"adb","time":{"start":1770789482187,"stop":1770789482258,"duration":71},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"stepsCount":0,"attachmentStep":false,"attachmentsCount":0,"shouldDisplayMessage":false},{"name":"cantool_runtime_and_shutdown","time":{"start":1770789482187,"stop":1770789482187,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"stepsCount":0,"attachmentStep":false,"attachmentsCount":0,"shouldDisplayMessage":false},{"name":"check_apk_permissions_require","time":{"start":1770790189528,"stop":1770790189695,"duration":167},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"stepsCount":0,"attachmentStep":false,"attachmentsCount":0,"shouldDisplayMessage":false}],"afterStages":[{"name":"cantool_runtime_and_shutdown::0","time":{"start":1770794423070,"stop":1770794423071,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"stepsCount":0,"attachmentStep":false,"attachmentsCount":0,"shouldDisplayMessage":false}],"labels":[{"name":"parentSuite","value":"tests.app_manager"},{"name":"suite","value":"test_REF_8008"},{"name":"host","value":"DaveWSChen"},{"name":"thread","value":"5600-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.app_manager.test_REF_8008"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[]}],"tags":[]},"source":"cbeeb0b53d5bca09.json","parameterValues":[]}