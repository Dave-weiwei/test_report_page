{"uid":"b049388a5c65f843","name":"test_02_check_logcat","fullName":"tests.app_manager.test_REF_8068#test_02_check_logcat","historyId":"8a41166665224f99582b402b84db9748","time":{"start":1770790366626,"stop":1770790366930,"duration":304},"status":"failed","statusMessage":"AssertionError: Overall progress should be non-decreasing\nassert [1, 0, 0, 0, 0, 0, ...] == [0, 0, 0, 0, 0, 0, ...]\n  \n  At index 0 diff: \u001B[0m\u001B[94m1\u001B[39;49;00m\u001B[90m\u001B[39;49;00m != \u001B[0m\u001B[94m0\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \n  Full diff:\n  \u001B[0m\u001B[90m \u001B[39;49;00m [\u001B[90m\u001B[39;49;00m\n  \u001B[92m+     1,\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \u001B[90m \u001B[39;49;00m     0,\u001B[90m\u001B[39;49;00m...\n  \n  ...Full output truncated (57 lines hidden), use '-vv' to show","statusTrace":"adb = <module.adb_tool.ADBTool object at 0x00000136F02270E0>\n\n    @pytest.mark.dependency(name=\"test_02\", depends=[\"test_01\"])\n    def test_02_check_logcat(adb):\n        logcat_lines = appmgr.app_logcat(adb)\n        overall_values = collect_overall_values(logcat_lines)\n    \n        # --- 進行 Assert 比對 ---\n    \n        # 1. 確保有抓到資料\n        assert len(overall_values) > 0, \"No progress logs found!\"\n    \n        # 2. 驗證整體邏輯：只有 0 或 1\n        for val in overall_values:\n            assert val in [0, 1], f\"Unexpected overall value: {val}\"\n    \n        # 3. 驗證最後一個狀態必須是 1 (安裝完成)\n        assert overall_values[-1] == 1, \"The last overall status should be 1\"\n    \n        # 4. 驗證變化趨勢 (只能從 0 變成 1，不能變回去)\n>       assert overall_values == sorted(overall_values), \"Overall progress should be non-decreasing\"\nE       AssertionError: Overall progress should be non-decreasing\nE       assert [1, 0, 0, 0, 0, 0, ...] == [0, 0, 0, 0, 0, 0, ...]\nE         \nE         At index 0 diff: \u001B[0m\u001B[94m1\u001B[39;49;00m\u001B[90m\u001B[39;49;00m != \u001B[0m\u001B[94m0\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\nE         \nE         Full diff:\nE         \u001B[0m\u001B[90m \u001B[39;49;00m [\u001B[90m\u001B[39;49;00m\nE         \u001B[92m+     1,\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\nE         \u001B[90m \u001B[39;49;00m     0,\u001B[90m\u001B[39;49;00m...\nE         \nE         ...Full output truncated (57 lines hidden), use '-vv' to show\n\ntests\\app_manager\\test_REF_8068.py:68: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"adb","time":{"start":1770789482187,"stop":1770789482258,"duration":71},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"stepsCount":0,"attachmentStep":false,"attachmentsCount":0,"shouldDisplayMessage":false},{"name":"cantool_runtime_and_shutdown","time":{"start":1770789482187,"stop":1770789482187,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"stepsCount":0,"attachmentStep":false,"attachmentsCount":0,"shouldDisplayMessage":false},{"name":"setup_env","time":{"start":1770790358574,"stop":1770790361126,"duration":2552},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"stepsCount":0,"attachmentStep":false,"attachmentsCount":0,"shouldDisplayMessage":false}],"afterStages":[{"name":"setup_env::0","time":{"start":1770790366936,"stop":1770790367114,"duration":178},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"stepsCount":0,"attachmentStep":false,"attachmentsCount":0,"shouldDisplayMessage":false},{"name":"cantool_runtime_and_shutdown::0","time":{"start":1770794423070,"stop":1770794423071,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"stepsCount":0,"attachmentStep":false,"attachmentsCount":0,"shouldDisplayMessage":false}],"labels":[{"name":"parentSuite","value":"tests.app_manager"},{"name":"suite","value":"test_REF_8068"},{"name":"host","value":"DaveWSChen"},{"name":"thread","value":"5600-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.app_manager.test_REF_8068"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[]}],"tags":[]},"source":"b049388a5c65f843.json","parameterValues":[]}