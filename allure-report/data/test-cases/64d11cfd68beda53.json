{"uid":"64d11cfd68beda53","name":"test_step02_send_install_intent","fullName":"tests.app_manager.test_REF_14797#test_step02_send_install_intent","historyId":"5f704a76041d7da4998000032d541c36","time":{"start":1770790516004,"stop":1770790537358,"duration":21354},"status":"failed","statusMessage":"AssertionError: Timeout: logcat grep 'AppManagerTestAppCli' did not contain:\n\"overall\":1\n--- last snippet ---\n01-01 05:07:41.625  2566  2566 I AppManagerTestAppCli: Request data: {\"method\": \"install\", \"params\": {\"apps\": [\"for_no_autostart.apk\", \"for_autostart.apk\"],\"clipdata\"=\"true\"}, \"id\": \"6\"}\n01-01 05:07:41.627  2566  2566 I AppManagerTestAppCli: clipdata: WITH_ITEMS\n01-01 05:07:41.706  2566  2566 D AppManagerTestAppCli: com.fca.Uconnect.CommonApp.extra.REQUEST_CODE : 1\n01-01 05:07:41.706  2566  2566 D AppManagerTestAppCli: com.fca.Uconnect.CommonApp.extra.CALLBACK : android.os.Messenger@a3008a9\n01-01 05:07:41.707  2566  2566 D AppManagerTestAppCli: INTENT.CLIPDATA :ClipData { application/vnd.android.package-archive \"installApps\" {U:content://com.fca.appmanagertestapp/all/for_no_autostart.apk} {U:content://com.fca.appmanagertestapp/all/for_autostart.apk} }\n01-01 05:07:41.731  2566  2566 I AppManagerTestAppCli: {\"result\":{\"arg1\":1,\"arg2\":19,\"data\":{\"state\":53,\"overall\":0.5,\"progress\":1,\"package\":\"null\"}},\"id\":6}","statusTrace":"adb = <module.adb_tool.ADBTool object at 0x00000136F09B36F0>\n\n    @pytest.mark.dependency(depends=[\"logs_prepared\"], name=\"send_install\")\n    def test_step02_send_install_intent(adb: ADBTool):\n    \n        send_install_intent(adb)\n        time.sleep(10)\n    \n        print(\"send_install_intent\")\n    \n>       logs_ok = wait_log_contains_tag(adb, TAG, RESULT_OK_KEY, timeout_s=10, poll_s=2)\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\ntests\\app_manager\\test_REF_14797.py:147: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nadb = <module.adb_tool.ADBTool object at 0x00000136F09B36F0>, tag = 'AppManagerTestAppCli', needle = '\"overall\":1', timeout_s = 10\npoll_s = 2\n\n    def wait_log_contains_tag(adb: ADBTool, tag: str, needle: str, timeout_s: int = 10, poll_s: int = 2):\n        deadline = time.time() + timeout_s\n        last = \"\"\n        while time.time() < deadline:\n            last = dump_logcat_grep_tag(adb, tag) or \"\"\n            if needle in last:\n                return last\n            time.sleep(poll_s)\n    \n>       raise AssertionError(\n            f\"Timeout: logcat grep '{tag}' did not contain:\\n{needle}\\n\"\n            f\"--- last snippet ---\\n{last[:3000]}\"\n        )\nE       AssertionError: Timeout: logcat grep 'AppManagerTestAppCli' did not contain:\nE       \"overall\":1\nE       --- last snippet ---\nE       01-01 05:07:41.625  2566  2566 I AppManagerTestAppCli: Request data: {\"method\": \"install\", \"params\": {\"apps\": [\"for_no_autostart.apk\", \"for_autostart.apk\"],\"clipdata\"=\"true\"}, \"id\": \"6\"}\nE       01-01 05:07:41.627  2566  2566 I AppManagerTestAppCli: clipdata: WITH_ITEMS\nE       01-01 05:07:41.706  2566  2566 D AppManagerTestAppCli: com.fca.Uconnect.CommonApp.extra.REQUEST_CODE : 1\nE       01-01 05:07:41.706  2566  2566 D AppManagerTestAppCli: com.fca.Uconnect.CommonApp.extra.CALLBACK : android.os.Messenger@a3008a9\nE       01-01 05:07:41.707  2566  2566 D AppManagerTestAppCli: INTENT.CLIPDATA :ClipData { application/vnd.android.package-archive \"installApps\" {U:content://com.fca.appmanagertestapp/all/for_no_autostart.apk} {U:content://com.fca.appmanagertestapp/all/for_autostart.apk} }\nE       01-01 05:07:41.731  2566  2566 I AppManagerTestAppCli: {\"result\":{\"arg1\":1,\"arg2\":19,\"data\":{\"state\":53,\"overall\":0.5,\"progress\":1,\"package\":\"null\"}},\"id\":6}\n\ntests\\app_manager\\test_REF_14797.py:88: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"adb","time":{"start":1770789482187,"stop":1770789482258,"duration":71},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"stepsCount":0,"attachmentStep":false,"attachmentsCount":0,"shouldDisplayMessage":false},{"name":"cantool_runtime_and_shutdown","time":{"start":1770789482187,"stop":1770789482187,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"stepsCount":0,"attachmentStep":false,"attachmentsCount":0,"shouldDisplayMessage":false},{"name":"adb","time":{"start":1770790514263,"stop":1770790515361,"duration":1098},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"stepsCount":0,"attachmentStep":false,"attachmentsCount":0,"shouldDisplayMessage":false}],"afterStages":[{"name":"cantool_runtime_and_shutdown::0","time":{"start":1770794423070,"stop":1770794423071,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"stepsCount":0,"attachmentStep":false,"attachmentsCount":0,"shouldDisplayMessage":false}],"labels":[{"name":"parentSuite","value":"tests.app_manager"},{"name":"suite","value":"test_REF_14797"},{"name":"host","value":"DaveWSChen"},{"name":"thread","value":"5600-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.app_manager.test_REF_14797"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[]}],"tags":[]},"source":"64d11cfd68beda53.json","parameterValues":[]}